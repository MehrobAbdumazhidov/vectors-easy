<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –í–µ–∫—Ç–æ—Ä–æ–≤</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            background: #1e1e2e;
            color: #e0e0e0;
            min-height: 100vh;
            overflow: hidden;
        }
        
        /* –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å */
        .top-nav {
            background: #252526;
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            border-bottom: 1px solid #3c3c3c;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            z-index: 10;
        }
        
        .nav-logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ffffff;
            margin-right: 30px;
        }
        
        .nav-items {
            display: flex;
            gap: 15px;
        }
        
        .nav-btn {
            background: transparent;
            color: #e0e0e0;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 1rem;
        }
        
        .nav-btn:hover {
            background: #3c3c3c;
        }
        
        .nav-btn.active {
            background: #0e639c;
            color: white;
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            display: flex;
            width: 100%;
            height: calc(100vh - 60px);
        }
        
        /* –û–±–ª–∞—Å—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ */
        .visualization {
            flex: 1;
            position: relative;
            background: #121212;
        }
        
        #vectorCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .control-panel {
            width: 320px;
            background: #252526;
            padding: 20px;
            overflow-y: auto;
            border-left: 1px solid #3c3c3c;
            box-shadow: -5px 0 15px rgba(0,0,0,0.3);
        }
        
        .panel-section {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #3c3c3c;
        }
        
        h2 {
            color: #ffffff;
            margin-bottom: 15px;
            font-size: 1.4em;
        }
        
        h3 {
            color: #9cdcfe;
            margin: 15px 0 10px;
            font-size: 1.1em;
        }
        
        .vector-input {
            display: flex;
            margin-bottom: 10px;
        }
        
        .vector-input label {
            width: 50px;
            display: flex;
            align-items: center;
        }
        
        .vector-input input {
            flex: 1;
            padding: 8px 10px;
            background: #3c3c3c;
            border: 1px solid #2d2d2d;
            color: #e0e0e0;
            border-radius: 4px;
        }
        
        .operations {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        button {
            background: #0e639c;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #1177bb;
        }
        
        .result {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: monospace;
            white-space: pre-wrap;
        }
        
        .vector-info {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        
        .color-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        header .logo,
        header nav a {
            display: none;
        }

        .nav-btn {
            text-decoration: none;
        }


        #vectorAIndicator { background: #ff5555; }
        #vectorBIndicator { background: #5555ff; }
        #resultIndicator { background: #55ff55; }
        
        .info-text {
            margin-top: 5px;
            font-style: italic;
            color: #b0b0b0;
            font-size: 0.9em;
        }
        .top-nav {
            justify-content: space-between; /* –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
        }

        .nav-items {
            display: flex;
            gap: 15px;
        }

        .reset-buttons {
            display: flex;
            gap: 15px;
            margin-left: auto; /* –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –±–ª–æ–∫ –≤–ø—Ä–∞–≤–æ */
        }
    </style>
</head>
<body>
    <!-- –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->

  <div class="top-nav">
    <div class="nav-logo">–í–µ–∫—Ç–æ—Ä—ã 3D</div>
    <div class="nav-items">
        <a class="nav-btn" href="../index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        <a class="nav-btn" href="../lessons/lessons.html">üìö –£—Ä–æ–∫–∏</a>
        <a class="nav-btn" href="../practice/practice1.html">üß™ –ü—Ä–∞–∫—Ç–∏–∫–∞</a>
        <a class="nav-btn" href="../tests/tests.html">üß† –¢–µ—Å—Ç—ã</a>
    </div>
    <div class="reset-buttons">
        <button class="nav-btn" id="resetCameraBtn">üéØ –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã</button>
        <button class="nav-btn" id="resetSceneBtn">üîÑ –°–±—Ä–æ—Å —Å—Ü–µ–Ω—ã</button>
    </div>
  </div>

    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –û–±–ª–∞—Å—Ç—å 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ -->
        <div class="visualization">
            <canvas id="vectorCanvas"></canvas>
        </div>
        
        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="control-panel">
            <div class="panel-section">
                <h2>3D –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä –í–µ–∫—Ç–æ—Ä–æ–≤</h2>
                <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —Ç—Ä–µ—Ö–º–µ—Ä–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ</p>
            </div>
            
            <div class="panel-section">
                <h3>–í–µ–∫—Ç–æ—Ä A</h3>
                <div class="vector-input">
                    <label>X:</label>
                    <input type="number" id="aX" value="2" min="-100" max="100" step="0.01">
                </div>
                <div class="vector-input">
                    <label>Y:</label>
                    <input type="number" id="aY" value="3" min="-100" max="100" step="0.01">

                </div>
                <div class="vector-input">
                    <label>Z:</label>
                    <input type="number" id="aZ" value="1" min="-100" max="100" step="0.01">
                </div>
            </div>
            
            <div class="panel-section">
                <h3>–í–µ–∫—Ç–æ—Ä B</h3>
                <div class="vector-input">
                    <label>X:</label>
                    <input type="number" id="bX" value="-1">
                </div>
                <div class="vector-input">
                    <label>Y:</label>
                    <input type="number" id="bY" value="2">
                </div>
                <div class="vector-input">
                    <label>Z:</label>
                    <input type="number" id="bZ" value="4">
                </div>
            </div>
            
            <div class="panel-section">
                <h3>–í–µ–∫—Ç–æ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
                <div class="operations">
                    <button id="addBtn">A + B</button>
                    <button id="subtractBtn">A - B</button>
                    <button id="crossBtn">A √ó B (–í–µ–∫—Ç–æ—Ä–Ω–æ–µ)</button>
                    <button id="dotBtn">A ¬∑ B (–°–∫–∞–ª—è—Ä–Ω–æ–µ)</button>
                    <button id="projectionBtn">–ü—Ä–æ–µ–∫—Ü–∏—è A –Ω–∞ B</button>
                    <button id="angleBtn">–£–≥–æ–ª –º–µ–∂–¥—É A –∏ B</button>
                    <button id="magnitudeBtn">–î–ª–∏–Ω–∞ A</button>
                    <button id="normalizeBtn">–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è A</button>
                </div>
            </div>
            
            <div class="panel-section">
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                <div class="vector-info">
                    <div class="color-indicator" id="vectorAIndicator"></div>
                    <span>–í–µ–∫—Ç–æ—Ä A</span>
                </div>
                <div class="vector-info">
                    <div class="color-indicator" id="vectorBIndicator"></div>
                    <span>–í–µ–∫—Ç–æ—Ä B</span>
                </div>
                <div class="vector-info">
                    <div class="color-indicator" id="resultIndicator"></div>
                    <span>–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
                </div>
                
                <div class="result" id="resultOutput">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å</div>
                
                <div class="info-text">
                    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º—ã—à—å –¥–ª—è –≤—Ä–∞—â–µ–Ω–∏—è —Å—Ü–µ–Ω—ã. –ö–æ–ª—ë—Å–∏–∫–æ –º—ã—à–∏ - –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.
                </div>
            </div>
        </div>
    </div>

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let scene, camera, renderer, controls;
        let vectorA, vectorB, resultVector;
        let vectorAArrow, vectorBArrow, resultArrow;
        let axesHelper, gridHelper;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ü–µ–Ω—ã
        function init() {
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω—ã
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x121212);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(30, 30, 30); 
            camera.lookAt(0, 0, 0);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞
            const canvas = document.getElementById('vectorCanvas');
            renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–æ–π
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;

            controls.target.set(0, 0, 0);
            controls.update();

            
            // –û—Å–≤–µ—â–µ–Ω–∏–µ
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã—Ö –æ—Å–µ–π
            axesHelper = new THREE.AxesHelper(120);
            scene.add(axesHelper);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–π —Å–µ—Ç–∫–∏
            gridHelper = new THREE.GridHelper(200, 20, 0x444444, 0x222222);
            scene.add(gridHelper);

            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤
            vectorA = new THREE.Vector3(2, 3, 1);
            vectorB = new THREE.Vector3(-1, 2, 4);
            resultVector = new THREE.Vector3();
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤–µ–∫—Ç–æ—Ä–æ–≤
            drawVectors();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners();
            
            // –ó–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
            animate();
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            window.addEventListener('resize', onWindowResize);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≤–µ–∫—Ç–æ—Ä–æ–≤
        function drawVectors() {
            // –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
            if (vectorAArrow) scene.remove(vectorAArrow);
            if (vectorBArrow) scene.remove(vectorBArrow);
            if (resultArrow) scene.remove(resultArrow);
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–µ–ª–æ–∫ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤
            vectorAArrow = createArrow(vectorA, 0xff5555, 'A');
            vectorBArrow = createArrow(vectorB, 0x5555ff, 'B');
            resultArrow = createArrow(resultVector, 0x55ff55, '–†–µ–∑—É–ª—å—Ç–∞—Ç');
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ü–µ–Ω—É
            scene.add(vectorAArrow);
            scene.add(vectorBArrow);
            scene.add(resultArrow);
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ 3D —Å—Ç—Ä–µ–ª–∫–∏ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–∞
        function createArrow(vector, color, name) {
            const origin = new THREE.Vector3(0, 0, 0);
            const direction = vector.clone().normalize();
            const length = vector.length();
            
            const arrowHelper = new THREE.ArrowHelper(
                direction,
                origin,
                length,
                color,
                0.5,  // –î–ª–∏–Ω–∞ –Ω–∞–∫–æ–Ω–µ—á–Ω–∏–∫–∞
                0.2   // –®–∏—Ä–∏–Ω–∞ –Ω–∞–∫–æ–Ω–µ—á–Ω–∏–∫–∞
            );
            
            arrowHelper.name = name;
            return arrowHelper;
        }
        
        // –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        function addVectors() {
            resultVector.copy(vectorA).add(vectorB);
            updateResult('–°–ª–æ–∂–µ–Ω–∏–µ: A + B =', resultVector);
        }
        
        function subtractVectors() {
            resultVector.copy(vectorA).sub(vectorB);
            updateResult('–í—ã—á–∏—Ç–∞–Ω–∏–µ: A - B =', resultVector);
        }
        
        function crossProduct() {
            resultVector.crossVectors(vectorA, vectorB);
            updateResult('–í–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: A √ó B =', resultVector);
        }
        
        function dotProduct() {
            const dot = vectorA.dot(vectorB);
            document.getElementById('resultOutput').textContent = 
                `–°–∫–∞–ª—è—Ä–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ: A ¬∑ B = ${dot.toFixed(2)}`;
        }
        
        function projection() {
            const bNorm = vectorB.clone().normalize();
            const scalar = vectorA.dot(bNorm);
            resultVector.copy(bNorm).multiplyScalar(scalar);
            updateResult('–ü—Ä–æ–µ–∫—Ü–∏—è A –Ω–∞ B:', resultVector);
        }
        
        function angleBetween() {
            const dot = vectorA.dot(vectorB);
            const magA = vectorA.length();
            const magB = vectorB.length();
            const angle = Math.acos(dot / (magA * magB)) * (180 / Math.PI);
            document.getElementById('resultOutput').textContent = 
                `–£–≥–æ–ª –º–µ–∂–¥—É A –∏ B: ${angle.toFixed(2)}¬∞`;
        }
        
        function magnitude() {
            const mag = vectorA.length();
            document.getElementById('resultOutput').textContent = 
                `–î–ª–∏–Ω–∞ –≤–µ–∫—Ç–æ—Ä–∞ A: ${mag.toFixed(2)}`;
        }
        
        function normalize() {
            resultVector.copy(vectorA).normalize();
            updateResult('–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä A:', resultVector);
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        function updateResult(operation, vector) {
            document.getElementById('resultOutput').textContent = 
                `${operation}\nX: ${vector.x.toFixed(2)}\nY: ${vector.y.toFixed(2)}\nZ: ${vector.z.toFixed(2)}`;
            drawVectors();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
        function clamp(value, min, max) {
            return Math.max(min, Math.min(max, value));
        }

        function validateAndUpdate() {
            const aX = parseFloat(document.getElementById('aX').value);
            const aY = parseFloat(document.getElementById('aY').value);
            const aZ = parseFloat(document.getElementById('aZ').value);
            const bX = parseFloat(document.getElementById('bX').value);
            const bY = parseFloat(document.getElementById('bY').value);
            const bZ = parseFloat(document.getElementById('bZ').value);

            if (
                isNaN(aX) || isNaN(aY) || isNaN(aZ) ||
                isNaN(bX) || isNaN(bY) || isNaN(bZ)
            ) {
                return; // –ü–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç ‚Äî –Ω–µ –º–µ—à–∞–µ–º
            }

            const ax = clamp(aX, -100, 100);
            const ay = clamp(aY, -100, 100);
            const az = clamp(aZ, -100, 100);
            const bx = clamp(bX, -100, 100);
            const by = clamp(bY, -100, 100);
            const bz = clamp(bZ, -100, 100);

            document.getElementById('aX').value = ax.toFixed(2);
            document.getElementById('aY').value = ay.toFixed(2);
            document.getElementById('aZ').value = az.toFixed(2);
            document.getElementById('bX').value = bx.toFixed(2);
            document.getElementById('bY').value = by.toFixed(2);
            document.getElementById('bZ').value = bz.toFixed(2);

            vectorA.set(ax, ay, az);
            vectorB.set(bx, by, bz);

            drawVectors();
            document.getElementById('resultOutput').textContent = '–í–µ–∫—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã';
         }


        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ö–Ω–æ–ø–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
            document.getElementById('addBtn').addEventListener('click', addVectors);
            document.getElementById('subtractBtn').addEventListener('click', subtractVectors);
            document.getElementById('crossBtn').addEventListener('click', crossProduct);
            document.getElementById('dotBtn').addEventListener('click', dotProduct);
            document.getElementById('projectionBtn').addEventListener('click', projection);
            document.getElementById('angleBtn').addEventListener('click', angleBetween);
            document.getElementById('magnitudeBtn').addEventListener('click', magnitude);
            document.getElementById('normalizeBtn').addEventListener('click', normalize);
            
            // –ü–æ–ª—è –≤–≤–æ–¥–∞
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('blur', validateAndUpdate); // –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –ø–æ–ª—è
                input.addEventListener('change', validateAndUpdate); // –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
            });

            // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
                    this.classList.add('active');
                    
                    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤
                    if (this.textContent === '–ì–ª–∞–≤–Ω–∞—è') {
                        document.getElementById('resultOutput').textContent = '–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É';
                    } else if (this.textContent === '–¢–µ–æ—Ä–∏—è') {
                        document.getElementById('resultOutput').textContent = '–†–∞–∑–¥–µ–ª —Å —Ç–µ–æ—Ä–∏–µ–π –≤–µ–∫—Ç–æ—Ä–æ–≤';
                    } else if (this.textContent === '–ü—Ä–∏–º–µ—Ä—ã') {
                        document.getElementById('resultOutput').textContent = '–ü—Ä–∏–º–µ—Ä—ã –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π';
                    }
                });
            });
            // –°–±—Ä–æ—Å –∫–∞–º–µ—Ä—ã
            document.getElementById('resetCameraBtn').addEventListener('click', () => {
                camera.position.set(30, 30, 30);
                controls.target.set(0, 0, 0);
                controls.update();
            });

            // –°–±—Ä–æ—Å —Å—Ü–µ–Ω—ã
            document.getElementById('resetSceneBtn').addEventListener('click', () => {
                // –°–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞
                document.getElementById('aX').value = 2;
                document.getElementById('aY').value = 3;
                document.getElementById('aZ').value = 1;

                document.getElementById('bX').value = -1;
                document.getElementById('bY').value = 2;
                document.getElementById('bZ').value = 4;

                // –û–±–Ω–æ–≤–ª—è–µ–º –≤–µ–∫—Ç–æ—Ä—ã
                vectorA.set(2, 3, 1);
                vectorB.set(-1, 2, 4);
                resultVector.set(0, 0, 0);

                drawVectors();

                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–º–µ—Ä—É —Ç–æ–∂–µ
                camera.position.set(30, 30, 30);
                controls.target.set(0, 0, 0);
                controls.update();

                document.getElementById('resultOutput').textContent = '–°—Ü–µ–Ω–∞ –∏ –≤–µ–∫—Ç–æ—Ä—ã —Å–±—Ä–æ—à–µ–Ω—ã';
            });

        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
        function onWindowResize() {
            const canvas = document.getElementById('vectorCanvas');
            camera.aspect = canvas.clientWidth / canvas.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è
        function animate() {
            requestAnimationFrame(animate);
            controls.update();
            renderer.render(scene, camera);
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        init();
    </script>
</body>
</html>